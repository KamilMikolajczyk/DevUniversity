@using Microsoft.AspNetCore.Identity
@using University.Models
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<ul class="navbar-nav ms-auto">
@if (SignInManager.IsSignedIn(User))
{
    var u = await UserManager.GetUserAsync(User);
    <li class="nav-item me-2">
        <span class="badge rounded-pill px-3 py-2" style="background: rgba(255,255,255,.10); border:1px solid rgba(255,255,255,.14); color:#fff;">
            <i class="bi bi-person-circle me-1"></i> @(u?.Email ?? User.Identity?.Name)
        </span>
    </li>
    <li class="nav-item">
        <form class="d-inline" asp-area="Identity" asp-page="/Account/Logout" method="post">
            @Html.AntiForgeryToken()
            <button class="btn btn-outline-light btn-sm px-3" type="submit">
                <i class="bi bi-box-arrow-right me-1"></i> Wyloguj
            </button>
        </form>
    </li>
}
else
{
    <li class="nav-item me-2">
        <a class="btn btn-outline-light btn-sm px-3" asp-area="Identity" asp-page="/Account/Login">
            <i class="bi bi-box-arrow-in-right me-1"></i> Zaloguj
        </a>
    </li>
    <li class="nav-item">
        <a class="btn btn-light btn-sm px-3" asp-area="Identity" asp-page="/Account/Register">
            <i class="bi bi-person-plus me-1"></i> Rejestracja
        </a>
    </li>
}
</ul>
